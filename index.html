<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lincmin.github.io","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="lincm&#39;s blog">
<meta property="og:url" content="https://lincmin.github.io/index.html">
<meta property="og:site_name" content="lincm&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="lincm">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://lincmin.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>lincm's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">lincm's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="/blog/tools/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>tools</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2022/02/06/Redux%20Toolkit%E8%AE%B0%E6%95%B0demo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/02/06/Redux%20Toolkit%E8%AE%B0%E6%95%B0demo/" class="post-title-link" itemprop="url">Redux Toolkit记数demo</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-06 00:00:00" itemprop="dateCreated datePublished" datetime="2022-02-06T00:00:00+08:00">2022-02-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/React/" itemprop="url" rel="index"><span itemprop="name">React</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://cn.redux.js.org/redux-toolkit/overview">Redux Toolkit: 概览 | Redux 中文官网</a><br><code>Redux Toolkit</code>是一个<code>Redux</code>工具包，用来简化<code>Redux</code>操作。以下记录的是一个用Redux Toolkit实现的简单计数器;</p>
<h1 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create-react-app my-app</span><br></pre></td></tr></table></figure>
<h1 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @reduxjs/toolkit react-redux</span><br></pre></td></tr></table></figure>

<h1 id="文件分层"><a href="#文件分层" class="headerlink" title="文件分层"></a>文件分层</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">	store</span><br><span class="line">		modules</span><br><span class="line">			counter.js</span><br><span class="line">		index.js</span><br><span class="line">	index.js</span><br></pre></td></tr></table></figure>


<h1 id="定义计数reducer"><a href="#定义计数reducer" class="headerlink" title="定义计数reducer"></a>定义计数reducer</h1><p><code>src/store/modules/counter</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createSlice &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span></span><br><span class="line"><span class="keyword">const</span> counter =<span class="title function_">createslice</span>(&#123;</span><br><span class="line"><span class="comment">//命名空间,name值会作为action type的前缀</span></span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;counter&#x27;</span>,</span><br><span class="line"><span class="comment">//初始化状态</span></span><br><span class="line"><span class="attr">initialState</span>: &#123;</span><br><span class="line">	<span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//1.定义reducer更新状态函数;</span></span><br><span class="line"><span class="comment">//2.组件中dispatch使用的action函数</span></span><br><span class="line"><span class="comment">//内置了immutable.js插件</span></span><br><span class="line"><span class="attr">reducers</span>: &#123;</span><br><span class="line">	add (state,action)&#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(state, action)</span><br><span class="line">		state.<span class="property">count</span>++</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="title function_">sub</span>(<span class="params">state</span>)&#123;</span><br><span class="line">		state.<span class="property">count</span>--</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//导出action函数</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; add, sub&#125; =counter.<span class="property">actions</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义异步action,处理异步请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">subAsync</span> = (<span class="params">payload</span>)=&gt;&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">async</span> (dispatch,getState） =&gt;&#123;</span><br><span class="line">		<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">		<span class="title function_">dispatch</span>(<span class="title function_">sub</span>())</span><br><span class="line">		&#125;, <span class="number">3000</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//导出reducer，创建store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> counter.<span class="property">reducer</span></span><br></pre></td></tr></table></figure>

<h1 id="创建store"><a href="#创建store" class="headerlink" title="创建store"></a>创建store</h1><p><code>src/store/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;configureStore &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span></span><br><span class="line"><span class="keyword">import</span> counter <span class="keyword">from</span> <span class="string">&quot;./modules/counter&#x27;</span></span><br><span class="line"><span class="string">export default configurestore(&#123;</span></span><br><span class="line"><span class="string">	reducer:&#123;</span></span><br><span class="line"><span class="string">		counter</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>

<h1 id="入口集成redux"><a href="#入口集成redux" class="headerlink" title="入口集成redux"></a>入口集成redux</h1><p><code>src/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client</span></span><br><span class="line"><span class="string">import App from &#x27;</span>./<span class="title class_">App</span> <span class="string">&#x27;</span></span><br><span class="line"><span class="string">import &#123; Provider &#125; from &#x27;</span>react-redux<span class="string">&#x27;</span></span><br><span class="line"><span class="string">import store from &#x27;</span>./store<span class="string">&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">const root = ReactDOM.createRoot(document.getElementById(&#x27;</span>root<span class="string">&#x27;))</span></span><br><span class="line"><span class="string">root.render(</span></span><br><span class="line"><span class="string">&lt;Provider store=&#123;store&#125;&gt;</span></span><br><span class="line"><span class="string">	&lt;App /&gt;</span></span><br><span class="line"><span class="string">&lt;/Provider&gt;</span></span><br><span class="line"><span class="string">)</span></span><br></pre></td></tr></table></figure>

<h1 id="组件中使用"><a href="#组件中使用" class="headerlink" title="组件中使用"></a>组件中使用</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useDispatch, useSelector &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; add,subAsync &#125; <span class="keyword">from</span> <span class="string">&#x27;./store/modules/counter&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line"><span class="keyword">const</span> &#123; count, list &#125; = <span class="title function_">useSelector</span>(<span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">counter</span>)</span><br><span class="line"><span class="keyword">return</span>(</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">onclick</span>=<span class="string">&#123;()</span>=&gt;</span>&#123;dispatch(add())&#125;&#125;&gt;</span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">button</span>&gt;</span>add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		&lt;/1i&gt;</span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">onclick</span>=<span class="string">&#123;()</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-xml">		dispatch(subAsync())</span></span><br><span class="line"><span class="language-xml">		&#125;&#125;&gt;</span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">button</span>&gt;</span>sub<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		&lt;/1i&gt;</span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2021/10/24/React%20Hooks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2021/10/24/React%20Hooks/" class="post-title-link" itemprop="url">React Hooks</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-24 00:00:00" itemprop="dateCreated datePublished" datetime="2021-10-24T00:00:00+08:00">2021-10-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/React/" itemprop="url" rel="index"><span itemprop="name">React</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>React在v16.8 版本引入了全新的 React Hooks  API;</p>
<h1 id="组件声明方式"><a href="#组件声明方式" class="headerlink" title="组件声明方式"></a>组件声明方式</h1><h2 id="类组件"><a href="#类组件" class="headerlink" title="类组件"></a>类组件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Welcome</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>类（class）是数据和逻辑的封装。React 的核心是组件,组件的标准写法是类（class）,用类把组件的状态和操作方法封装在一起。一个React 应用由多个组件类按照层级构建,如果再加入维护组件属性状态的Redux,会让React应用臃肿,编写更复杂,维护困难;<br>Redux 的作者 Dan Abramov 总结了组件类有以下几个缺点。</p>
<ul>
<li>大型组件很难拆分和重构，也很难测试。</li>
<li>业务逻辑分散在组件的各个方法之中，导致重复逻辑或关联逻辑。</li>
<li>组件类引入了复杂的编程模式，比如 render props 和高阶组件。</li>
</ul>
<h2 id="函数组件"><a href="#函数组件" class="headerlink" title="函数组件"></a>函数组件</h2><p>函数只应该做一件事，根据传入函数的参数返回一个值。组件的最佳写法应该是函数，而不是类。React 的函数组件只应该做一件事情：返回组件的 HTML 代码，而没有其他的功能。但是函数组件必须是[[纯函数]]，不能包含状态，也不支持生命周期方法，无法取代组件类;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Example</span>(<span class="params"></span>)&#123;     </span><br><span class="line">	<span class="keyword">const</span> [ count , setCount ] = <span class="title function_">useState</span>(<span class="number">0</span>);     </span><br><span class="line">	<span class="keyword">return</span> (         </span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">p</span>&gt;</span>You clicked &#123;count&#125; times<span class="tag">&lt;/<span class="name">p</span>&gt;</span>             </span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>&#123;setCount(count+1)&#125;&#125;&gt;click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span>         </span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>     </span><br><span class="line">	) </span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Example</span>;</span><br></pre></td></tr></table></figure>
<h1 id="Hooks-的含义"><a href="#Hooks-的含义" class="headerlink" title="Hooks 的含义"></a>Hooks 的含义</h1><p>Hook 单词是”钩子”的意思。React Hooks就是为了解决函数组件的缺点;使用”钩子”给函数组件注入一些特殊的功能;发挥函数组件的优势替代类组件;有hooks，所有的组件都可以用函数来声明；<br>React 默认提供了一些常用钩子，也可以封装自己的钩子。所有的钩子都是为函数引入外部功能，钩子用use前缀命名.<br>四个常用的钩子:</p>
<ul>
<li>  useState()</li>
<li>  useContext()</li>
<li>  useReducer()</li>
<li>  useEffect()</li>
</ul>
<h1 id="useState"><a href="#useState" class="headerlink" title="useState()"></a>useState()</h1><p>状态钩子<br>用来声明状态变量。</p>
<h2 id="声明状态"><a href="#声明状态" class="headerlink" title="声明状态"></a>声明状态</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [ count , setCount ] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>声明了一个状态变量为count，useState()这个函数接受count状态的初始值，并把它的初始值设为0，同时提供了一个可以改变count的状态值的方法函数setCount,约定写法是<code>set</code>前缀加上状态的变量名。</p>
<h2 id="获取状态"><a href="#获取状态" class="headerlink" title="获取状态"></a>获取状态</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;<span class="title class_">You</span> clicked &#123;count&#125; times&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h2 id="更新状态"><a href="#更新状态" class="headerlink" title="更新状态"></a>更新状态</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;buttonon <span class="title class_">Click</span>=&#123;<span class="function">()=&gt;</span>&#123;<span class="title function_">setCount</span>(count+<span class="number">1</span>)&#125;&#125;&gt;click me&lt;/button]]&gt;</span><br></pre></td></tr></table></figure>
<h1 id="useContext"><a href="#useContext" class="headerlink" title="useContext()"></a>useContext()</h1><p>共享状态钩子,让父子组件传值更简单，Context的作用就是对它所包含的组件树提供全局共享数据，实现跨越组件层级直接传递变量，实现状态共享。</p>
<h2 id="创建Context"><a href="#创建Context" class="headerlink" title="创建Context"></a>创建Context</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState , createContext &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>; </span><br><span class="line"><span class="keyword">const</span> <span class="title class_">AppContext</span> = <span class="title function_">createContext</span>();</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">AppContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>(&#123;&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="父组件"><a href="#父组件" class="headerlink" title="父组件"></a>父组件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">AppContext</span>.<span class="property">Provider</span> value=&#123;&#123;</span><br><span class="line">  <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">&#125;&#125;&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Counter</span>/&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">AppContext</span>.<span class="property">Provider</span>&gt;</span><br></pre></td></tr></table></figure>
<p>父组件<code>AppContext.Provider</code>提供了一个 AppContext 对象，这个对象可以被子组件共享。</p>
<h2 id="子组件"><a href="#子组件" class="headerlink" title="子组件"></a>子组件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Counter</span>(<span class="params"></span>)&#123;     </span><br><span class="line">	<span class="keyword">const</span> count = <span class="title function_">useContext</span>(<span class="title class_">AppContext</span>)     </span><br><span class="line">	<span class="keyword">return</span> (         </span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;count&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>     </span><br><span class="line">) &#125;</span><br></pre></td></tr></table></figure>
<p><code>Counter</code>子组件中<code>useContext()</code>钩子函数用来引入 AppContext 对象，从中获取<code>count</code>属性。</p>
<h1 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer()"></a>useReducer()</h1><h2 id="Reducer"><a href="#Reducer" class="headerlink" title="Reducer"></a>Reducer</h2><p>Reducer用来控制状态变化的逻辑,是一个函数,这个函数接收两个参数，一个参数是状态state，另一个参数是如何控制状态action,通过传入的state,action返回新的状态。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">countReducer</span> = (<span class="params">state, action</span>) =&gt; &#123;     </span><br><span class="line">	<span class="keyword">switch</span>(action.<span class="property">type</span>) &#123;         </span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;add&#x27;</span>:             	</span><br><span class="line">			<span class="keyword">return</span>  &#123;</span><br><span class="line">			        ...state,</span><br><span class="line">			        <span class="attr">count</span>: state.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">			      &#125;           </span><br><span class="line">		<span class="attr">default</span>:             </span><br><span class="line">			<span class="keyword">return</span> state;     </span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="使用useReducer"><a href="#使用useReducer" class="headerlink" title="使用useReducer()"></a>使用useReducer()</h2><p>useReducer()接受 Reducer 函数和状态的初始值作为参数，返回一个数组。数组的第一个成员是状态的当前值，第二个成员是发送 action 的dispatch函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, dispatch] = <span class="title function_">useReducer</span>(countReducer,&#123;<span class="attr">count</span>:<span class="number">0</span>&#125;);</span><br><span class="line">  <span class="keyword">return</span>  (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> dispatch(&#123; type: &#x27;add&#x27; &#125;)&#125;&gt;</span></span><br><span class="line"><span class="language-xml">        +1</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Count: &#123;state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect()"></a>useEffect()</h1><p>useEffect()副作用钩子,用来引入具有副作用的操作,常见的用法是向服务器请求数据。useEffect()接受两个参数。第一个参数是一个函数，异步操作的代码放在里面,例如请求服务器数据。第二个参数是一个数组，用于给出 Effect 的依赖项，只要这个数组发生变化，useEffect()就会执行。第二个参数可以省略，这时每次组件渲染时，就会执行useEffect()。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">()  =&gt;</span>  &#123;</span><br><span class="line">  <span class="comment">//异步操作</span></span><br><span class="line">&#125;, [dependencies])</span><br></pre></td></tr></table></figure>
<p>第二个数组参数有三种情况：</p>
<ol>
<li> 缺省，组件每次渲染都会执行 useEffect;</li>
<li> 空值(空数组)，只会在组件加载进入 DOM 后执行一次useEffect，后面组件重新渲染，就不会再次执行;</li>
<li> 非空，数组内的变量发生变化时，副效应函数useEffect才会执行。</li>
</ol>
<h2 id="主要用途"><a href="#主要用途" class="headerlink" title="主要用途"></a>主要用途</h2><p>获取远程服务器数据;<br>事件监听或订阅;<br>渲染页面改变 DOM;</p>
<h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><p>useEffect()允许返回一个函数，在组件卸载时，执行该函数，清理副效应。如果不需要清理副效应，useEffect()就不用返回任何值。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2021/04/09/TypeScript%20%E5%AD%A6%E4%B9%A0%E6%91%98%E8%A6%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2021/04/09/TypeScript%20%E5%AD%A6%E4%B9%A0%E6%91%98%E8%A6%81/" class="post-title-link" itemprop="url">TypeScript 学习摘要</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-09 00:00:00" itemprop="dateCreated datePublished" datetime="2021-04-09T00:00:00+08:00">2021-04-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h1><p>安装typescript命令行工具</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br><span class="line">typescript@2.9.2</span><br></pre></td></tr></table></figure>
<p>安装ts-node 工具,它提供了TypeScript的运行环境，免去了麻烦的编译步骤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i ts-node -g</span><br></pre></td></tr></table></figure>
<p>编译ts文件,tsc (typescript compiler) 是 typescript 提供的命令行工具，用于编译 <code>.ts</code> 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc index.ts</span><br></pre></td></tr></table></figure>
<p>初始化 typescript 配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br></pre></td></tr></table></figure>
<h1 id="静态类型"><a href="#静态类型" class="headerlink" title="静态类型"></a>静态类型</h1><ul>
<li>  定义变量为数字类型const count:number=1</li>
<li>  使用了静态类型，不仅意味着变量的类型不可以改变，还意味着类型的属性和方法也跟着确定了。<h1 id="基础静态类型和对象类型"><a href="#基础静态类型和对象类型" class="headerlink" title="基础静态类型和对象类型"></a>基础静态类型和对象类型</h1></li>
<li>基础静态类型 <ul>
<li>  number</li>
<li>  string</li>
<li>  boolean</li>
<li>  void</li>
<li>  null</li>
<li>  undefinde</li>
<li>  symbol</li>
</ul>
</li>
<li>  对象类型</li>
<li>  数组类型</li>
<li>  类类型</li>
<li>  函数类型<h1 id="类型注释和类型推断"><a href="#类型注释和类型推断" class="headerlink" title="类型注释和类型推断"></a>类型注释和类型推断</h1>类型注解<br>意思是显示的告诉代码，count变量就是一个数字类型，这就叫做类型注解。<br>类型推断<br>通过代码TS会自动的去尝试分析变量的类型。<h1 id="函数参数和返回类型定义"><a href="#函数参数和返回类型定义" class="headerlink" title="函数参数和返回类型定义"></a>函数参数和返回类型定义</h1>定义函数返回类型<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function getTotal(one:number,two:number):number&#123; </span><br><span class="line">	returnone+two; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
没有返回值的函数<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function sayHello():void&#123; </span><br><span class="line">	console.log(&quot;helloworld&quot;); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>永远也执行不完的函数，就可以定义函数返回值为never</p>
<h1 id="数组类型的定义"><a href="#数组类型的定义" class="headerlink" title="数组类型的定义"></a>数组类型的定义</h1><p>定义同类型数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">tnumberArr</span>:number[]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br></pre></td></tr></table></figure>
<p>定义多种类型数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">arr</span>:(number|string)[]=[<span class="number">1</span>,<span class="string">&quot;string&quot;</span>,<span class="number">2</span>];</span><br></pre></td></tr></table></figure>
<p>使用类型别名 type 定义数组中对象类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type <span class="title class_">Lady</span>=&#123;<span class="attr">name</span>:string,<span class="attr">age</span>:<span class="title class_">Number</span>&#125;; </span><br><span class="line"><span class="keyword">const</span> <span class="attr">female</span>:<span class="title class_">Lady</span>[]=[ &#123;<span class="attr">name</span>:<span class="string">&quot;lily&quot;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">&quot;sandy&quot;</span>,<span class="attr">age</span>:<span class="number">22</span>&#125;, ];</span><br></pre></td></tr></table></figure>
<p>元组的使用和类型约束</p>
<ul>
<li>元组看成数组的一个加强，它可以更好的控制或者说规范里边的类型。</li>
<li>把数组中的每个元素类型的位置给固定住了，这就叫做元组。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">female</span>:[string,string,number]=[<span class="string">&quot;lily&quot;</span>,<span class="string">&quot;teacher&quot;</span>,<span class="number">26</span>];</span><br></pre></td></tr></table></figure>
<h1 id="interface接口"><a href="#interface接口" class="headerlink" title="interface接口"></a>interface接口</h1></li>
<li>  允许加入任意值 [propname:string]:any;</li>
<li>  接口方法say():string;</li>
<li>  类实现接口<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">female</span> implements <span class="title class_">Girl</span>&#123; </span><br><span class="line">	name=<span class="string">&quot;lily&quot;</span>; </span><br><span class="line">	age=<span class="number">18</span>; </span><br><span class="line">	<span class="title function_">say</span>(<span class="params"></span>)&#123; </span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;hello！&quot;</span>; </span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>  接口继承<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">Girl</span>&#123; </span><br><span class="line">	<span class="title function_">teach</span>():string; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>  接口只是在TypeScript里作语法校验的工具，编译成正式的js代码，就不会有任何用处。<h1 id="类的概念和使用"><a href="#类的概念和使用" class="headerlink" title="类的概念和使用"></a>类的概念和使用</h1></li>
<li>  类的定义<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123; </span><br><span class="line">	content=<span class="string">&quot;hello&quot;</span>; </span><br><span class="line">	<span class="title function_">sayHello</span>(<span class="params"></span>)&#123; </span><br><span class="line">		<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">content</span>; </span><br><span class="line">	&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">const</span> man=<span class="keyword">new</span> <span class="title class_">Person</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(man.<span class="title function_">sayHello</span>());</span><br></pre></td></tr></table></figure></li>
<li>  类的继承 extends</li>
<li>  类的重写:重写就是子类可以重新编写父类里边的代码。</li>
<li>  super关键字，它代表父类中的方法。<h1 id="类的访问类型"><a href="#类的访问类型" class="headerlink" title="类的访问类型"></a>类的访问类型</h1></li>
<li>  public,默认,公共的,内外部都可以调用;</li>
<li>  protected,允许在类内及继承的子类中使用;</li>
<li>  private,私有的,只允许再类的内部被调用,外部不允许调用;<h1 id="类的构造函数"><a href="#类的构造函数" class="headerlink" title="类的构造函数"></a>类的构造函数</h1></li>
<li>  构造函数就是在类被初始化的时候，自动执行的一个方法。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123; </span><br><span class="line">	<span class="title function_">constructor</span>(<span class="params">public name:string</span>)&#123; </span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>类继承中的构造器写法<ul>
<li>  在子类中使用构造函数必须要用super()调用父类的构造函数。</li>
<li>  如果需要传值，也必须进行传值操作。</li>
<li>  如果父类没有构造函数，子类也要使用super()进行调用;<h1 id="类的Getter、Setter和static-只读属性readonly使用"><a href="#类的Getter、Setter和static-只读属性readonly使用" class="headerlink" title="类的Getter、Setter和static,只读属性readonly使用"></a>类的Getter、Setter和static,只读属性readonly使用</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123; </span><br><span class="line">	<span class="title function_">constructor</span>(<span class="params">private _age:number</span>)&#123;</span><br><span class="line">	</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">get</span> <span class="title function_">age</span>()&#123; </span><br><span class="line">		<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_age</span>-<span class="number">10</span> </span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">set</span> <span class="title function_">age</span>(<span class="params">age:number</span>)&#123; </span><br><span class="line">		<span class="variable language_">this</span>.<span class="property">_age</span>=age </span><br><span class="line">		&#125; </span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">const</span> boy=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">18</span>) </span><br><span class="line">	boy.<span class="property">age</span>=<span class="number">25</span> </span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(boy.<span class="property">age</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>  用static声明的属性和方法，不需要进行声明对象，就可以直接使用;</li>
<li>  readonly只读属性。第一次赋值后不能被二次修改;<h1 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">abstract <span class="keyword">class</span> <span class="title class_">Girl</span>&#123; </span><br><span class="line">	abstract <span class="title function_">skill</span>()<span class="comment">//因为没有具体的方法，可以不写括号 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
例子:三种技师都有各自不同的技能,需要把技能方法放到抽象类中,具体不同的技能由继承它的技师实现;<h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><h2 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h2>生成tsconfig.json文件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br></pre></td></tr></table></figure></li>
<li>tsc命令执行tsconfig.jso配置文件;</li>
<li>include属性是用来指定要编译的文件;</li>
<li>exclude排除不需要编译的文件;</li>
<li>监视编译tsc -w<h1 id="compilerOptions配置项"><a href="#compilerOptions配置项" class="headerlink" title="compilerOptions配置项"></a>compilerOptions配置项</h1></li>
<li>removeComments是告诉TypeScript对编译出来的js文件是否显示注释（注解）;</li>
<li>strict属性设置编译和书写规范是否严格;</li>
<li>noImplicitAny属性的作用是，允许你的注解类型any不用特意表明;</li>
<li>strictNullChecks设置为false,它的意思就是，不强制检查NULL类型;</li>
<li>rootDir来指定ts文件的位置;</li>
<li>outDir来配置编译后文件输出的位置;</li>
<li>allowJs编译ES6语法到ES5语法;</li>
<li>sourceMap属性;</li>
<li>noUnusedLocals和noUnusedParameters;<h1 id="联合类型和类型保护"><a href="#联合类型和类型保护" class="headerlink" title="联合类型和类型保护"></a>联合类型和类型保护</h1>所谓联合类型，可以认为一个变量可能有两种或两种以上的类型。</li>
<li>类型保护<ul>
<li>  类型断言 (animal as Teacher).skill();</li>
<li>  in语法 “skill” in animal</li>
<li>typeof语法 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">typeof first===&quot;string&quot;</span><br></pre></td></tr></table></figure></li>
<li>  instanceof语法 first instanceof NumberObj<h1 id="Enum枚举类型"><a href="#Enum枚举类型" class="headerlink" title="Enum枚举类型"></a>Enum枚举类型</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enum Status&#123; MONDAY, Tuesday, Wednesday&#125;</span><br></pre></td></tr></table></figure>
<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><h2 id="函数泛型"><a href="#函数泛型" class="headerlink" title="函数泛型"></a>函数泛型</h2></li>
</ul>
</li>
<li>  泛型就是泛指的类型。</li>
<li>  泛型的定义使用&lt;&gt;（尖角号）进行定义<h2 id="类中泛型"><a href="#类中泛型" class="headerlink" title="类中泛型"></a>类中泛型</h2>初始类的泛型 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> <span class="title class_">SelectGirl</span>&lt;T&gt;&#123;&#125;</span><br></pre></td></tr></table></figure>
泛型中的继承<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SelectGirl</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Girl</span>&gt;&#123; ... &#125;</span><br></pre></td></tr></table></figure>
泛型约束<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SelectGirl</span>&lt;T <span class="keyword">extends</span> number | string&gt;&#123;... &#125;</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2021/03/20/js%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2021/03/20/js%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/" class="post-title-link" itemprop="url">js原型和原型链</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-03-20 00:00:00" itemprop="dateCreated datePublished" datetime="2021-03-20T00:00:00+08:00">2021-03-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="构造函数创建对象"><a href="#构造函数创建对象" class="headerlink" title="构造函数创建对象"></a>构造函数创建对象</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>()</span><br><span class="line">person.<span class="property">name</span> = <span class="string">&#x27;tom&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>) <span class="comment">//tom</span></span><br></pre></td></tr></table></figure>
<p>Person 是一个构造函数。<br>person 是一个被 new 创建的实例。</p>
<h1 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h1><p>每一个构造函数都有一个 prototype 属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// prototype是构造函数才会有的属性</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">name</span> = <span class="string">&#x27;Kevin&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person1.<span class="property">name</span>) <span class="comment">// Kevin</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person2.<span class="property">name</span>) <span class="comment">// Kevin</span></span><br></pre></td></tr></table></figure>

<p>构造函数的 prototype 属性指向了一个对象，这个对象正是调用该构造函数而创建的实例的原型，也就是这个例子中的 person1 和 person2 的原型。</p>
<p>每一个JavaScript对象(null除外)在创建的时候就会与之关联另一个对象，这个对象就是原型，每一个对象都会从原型”继承”属性。<br><img src="https://raw.githubusercontent.com/lincmin/img-public/main/js%E5%8E%9F%E5%9E%8Bprototype-20220608160407.png"></p>
<h1 id="proto"><a href="#proto" class="headerlink" title="proto"></a><strong>proto</strong></h1><p>每一个JavaScript对象(除了 null )都具有的一个属性，叫__proto__，这个属性会指向该对象的原型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">__proto__</span> === <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/lincmin/img-public/main/js%E5%8E%9F%E5%9E%8B__proto__-20220608160817.png"></p>
<h1 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h1><p>每个原型都有一个 constructor 属性指向关联的构造函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span> === <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/lincmin/img-public/main/js%E5%8E%9F%E5%9E%8Bconstructor-20220608160941.png"></p>
<h1 id="实例与原型"><a href="#实例与原型" class="headerlink" title="实例与原型"></a>实例与原型</h1><p>当读取实例的属性时，如果找不到，就会查找与对象关联的原型中的属性，如果还查不到，就去找原型的原型，一直找到最顶层为止。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">name</span> = <span class="string">&#x27;Kevin&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"></span><br><span class="line">person.<span class="property">name</span> = <span class="string">&#x27;Daisy&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>) <span class="comment">// Daisy</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> person.<span class="property">name</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>) <span class="comment">// Kevin</span></span><br></pre></td></tr></table></figure>
<h1 id="原型的原型"><a href="#原型的原型" class="headerlink" title="原型的原型"></a>原型的原型</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&#x27;Kevin&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>) <span class="comment">// Kevin</span></span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/lincmin/img-public/main/js%E5%8E%9F%E5%9E%8B%E7%9A%84%E5%8E%9F%E5%9E%8B-20220608161147.png"></p>
<h1 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="literal">null</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/lincmin/img-public/main/%E5%8E%9F%E5%9E%8B%E9%93%BE-20220608161258.png"><br>图中由相互关联的原型组成的链状结构就是原型链，也就是蓝色的这条线。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2021/02/21/generator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2021/02/21/generator/" class="post-title-link" itemprop="url">generator</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-02-21 00:00:00" itemprop="dateCreated datePublished" datetime="2021-02-21T00:00:00+08:00">2021-02-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ECMAScript 6 中的 generator 是可以控制 iterator（迭代器）的函数。并在任何时候都可以暂停和恢复。</p>
<h1 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h1><p>立即输出值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 将会立即输出 0 -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4</span></span><br></pre></td></tr></table></figure>
<h1 id="generator-函数"><a href="#generator-函数" class="headerlink" title="# generator 函数"></a># generator 函数</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> * <span class="title function_">generatorForLoop</span>(<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; num; i += <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> genForLoop = <span class="title function_">generatorForLoop</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">genForLoop.<span class="title function_">next</span>(); <span class="comment">// 0</span></span><br><span class="line">genForLoop.<span class="title function_">next</span>(); <span class="comment">// 1</span></span><br><span class="line">genForLoop.<span class="title function_">next</span>(); <span class="comment">// 2</span></span><br><span class="line">genForLoop.<span class="title function_">next</span>(); <span class="comment">// 3</span></span><br><span class="line">genForLoop.<span class="title function_">next</span>(); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p>generator 中最重要的特性:可以在真正需要下一个值的时候，才去获取它，而不是一次获得所有值。</p>
<h1 id="generator-语法"><a href="#generator-语法" class="headerlink" title="generator 语法"></a>generator 语法</h1><p>在函数关键字<code>function</code>之后添加一个星号。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> * generator () &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> generator = <span class="keyword">function</span> * () &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> generator = *<span class="function">() =&gt;</span> &#123;&#125; <span class="comment">// SyntaxError</span></span><br></pre></td></tr></table></figure>
<p>不能使用箭头函数来创建一个 generator。</p>
<h1 id="Yield"><a href="#Yield" class="headerlink" title="Yield"></a>Yield</h1><p>yield 只返回一次值，下次调用 next() 时，它将执行到下一个 yield 语句。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> * <span class="title function_">withYield</span>(<span class="params">a</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">yield</span> a + b;</span><br><span class="line">  b = <span class="number">6</span>; <span class="comment">// 第一次执行之后仍可以重新定义变量</span></span><br><span class="line">  <span class="keyword">yield</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> calcSix = <span class="title function_">withYield</span>(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">calcSix.<span class="title function_">next</span>().<span class="property">value</span>; <span class="comment">// 11</span></span><br><span class="line">calcSix.<span class="title function_">next</span>().<span class="property">value</span>; <span class="comment">// 36</span></span><br></pre></td></tr></table></figure>
<p>generator 中通常会获得一个对象作为输出。它有两个属性 value 和 done。value 表示返回的值，done 告知 generator 是否完成了它的工作（是否迭代完成）。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2020/09/10/%E7%94%A8JS%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%9D%80%E6%A0%8F%E5%8F%82%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2020/09/10/%E7%94%A8JS%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%9D%80%E6%A0%8F%E5%8F%82%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">用JS获取地址栏参数的方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-10 00:00:00" itemprop="dateCreated datePublished" datetime="2020-09-10T00:00:00+08:00">2020-09-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 获取链接参数对象</span><br><span class="line">```js</span><br><span class="line">url = &#x27;LineStockInventory/postSearchStock?date=&#123;&#123;dt&#125;&#125;&amp;orgId=&#123;&#123;org4Id&#125;&#125;&amp;type=3&amp;orgLevel=org4&amp;pageSize=20&amp;pageNumber=1&#x27;</span><br><span class="line"></span><br><span class="line">function getParams(url)&#123;</span><br><span class="line">    var theParams = new Object();//声明存放参数的对象</span><br><span class="line">    if(url.indexOf(&#x27;?&#x27;)!=-1)&#123;//判断是否有参数</span><br><span class="line">        var str = url.split(&quot;?&quot;);//以问号分割字符串</span><br><span class="line">        var strParams = str[1];//获取问号后面的参数</span><br><span class="line">        console.log(&#x27;被切割字符串数组&#x27;+str);</span><br><span class="line">        console.log(&#x27;参数字符串&#x27;+strParams);</span><br><span class="line">        var strs = strParams.split(&quot;&amp;&quot;);</span><br><span class="line">        for(var i = 0; i &lt; strs.length; i ++)&#123;</span><br><span class="line">            theParams[strs[i].split(&quot;=&quot;)[0]]=(strs[i].split(&quot;=&quot;)[1]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return theParams;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">被切割字符串数组<span class="attr">str</span>:</span><br><span class="line">[</span><br><span class="line">	<span class="title class_">LineStockInventory</span>/postSearchStock,</span><br><span class="line">	date=<span class="number">201606</span>&amp;orgId=<span class="number">283</span>&amp;type=<span class="number">3</span>&amp;orgLevel=org4&amp;pageSize=<span class="number">20</span>&amp;pageNumber=<span class="number">1</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">参数字符串strParams：</span><br><span class="line"><span class="title class_">Paramsdate</span>=<span class="number">201606</span>&amp;orgId=<span class="number">283</span>&amp;type=<span class="number">3</span>&amp;orgLevel=org4&amp;pageSize=<span class="number">20</span>&amp;pageNumber=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">返回的对象：</span><br><span class="line">theParams=&#123;</span><br><span class="line">	<span class="attr">date</span>:<span class="string">&quot;201606&quot;</span>,</span><br><span class="line">	<span class="attr">orgId</span>:<span class="string">&quot;283&quot;</span>,</span><br><span class="line">	<span class="attr">orgLevel</span>:<span class="string">&quot;org4&quot;</span>,</span><br><span class="line">	<span class="attr">pageNumber</span>:<span class="string">&quot;1&quot;</span>,</span><br><span class="line">	<span class="attr">pageSize</span>:<span class="string">&quot;20&quot;</span>,</span><br><span class="line">	<span class="attr">type</span>:<span class="string">&quot;3&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="正则表达式获取地址栏参数"><a href="#正则表达式获取地址栏参数" class="headerlink" title="正则表达式获取地址栏参数"></a>正则表达式获取地址栏参数</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">GetQueryString</span>(<span class="params">name</span>)</span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^|&amp;)&quot;</span>+ name +<span class="string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>);</span><br><span class="line">     <span class="keyword">var</span> r = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">substr</span>(<span class="number">1</span>).<span class="title function_">match</span>(reg);</span><br><span class="line">     <span class="keyword">if</span>(r!=<span class="literal">null</span>)&#123;</span><br><span class="line">	     <span class="keyword">return</span>  <span class="built_in">unescape</span>(r[<span class="number">2</span>]); </span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用方法</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">GetQueryString</span>(<span class="string">&quot;参数名1&quot;</span>));</span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">GetQueryString</span>(<span class="string">&quot;参数名2&quot;</span>));</span><br><span class="line"><span class="title function_">alert</span>(<span class="title class_">GetQueryString</span>(<span class="string">&quot;参数名3&quot;</span>));</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2020/07/10/echarts%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2020/07/10/echarts%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/" class="post-title-link" itemprop="url">echarts使用小记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-10 00:00:00" itemprop="dateCreated datePublished" datetime="2020-07-10T00:00:00+08:00">2020-07-10</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>官网链接<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">Apache ECharts</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts --save</span><br></pre></td></tr></table></figure>
<h1 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> echarts <span class="keyword">from</span> <span class="string">&#x27;echarts’;</span></span><br></pre></td></tr></table></figure>
<h1 id="按需加载"><a href="#按需加载" class="headerlink" title="按需加载"></a>按需加载</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">import</span>(<span class="string">&#x27;echarts/lib/chart/line&#x27;</span>);</span><br><span class="line"><span class="title function_">import</span>(<span class="string">&#x27;echarts/lib/component/tooltip&#x27;</span>);</span><br><span class="line"><span class="title function_">import</span>(<span class="string">&#x27;echarts/lib/component/title&#x27;</span>);</span><br><span class="line"><span class="title function_">import</span>(<span class="string">&#x27;echarts/lib/component/legend&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h1 id="基于准备好的dom"><a href="#基于准备好的dom" class="headerlink" title="基于准备好的dom"></a>基于准备好的dom</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;trendChart&quot; style=&#123;&#123; width: &quot;100%&quot;, height: 280 &#125;&#125;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h1 id="初始化echarts实例"><a href="#初始化echarts实例" class="headerlink" title="初始化echarts实例"></a>初始化echarts实例</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myChart；</span><br><span class="line"></span><br><span class="line"><span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line"> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;trendChart&#x27;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="绘制图表"><a href="#绘制图表" class="headerlink" title="绘制图表"></a>绘制图表</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;ECharts 入门示例&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">tooltip</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>: [<span class="string">&#x27;衬衫&#x27;</span>, <span class="string">&#x27;羊毛衫&#x27;</span>, <span class="string">&#x27;雪纺衫&#x27;</span>, <span class="string">&#x27;裤子&#x27;</span>, <span class="string">&#x27;高跟鞋&#x27;</span>, <span class="string">&#x27;袜子&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">yAxis</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">series</span>: [&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="获取数据后更新图表"><a href="#获取数据后更新图表" class="headerlink" title="获取数据后更新图表"></a>获取数据后更新图表</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (myChart) &#123;</span><br><span class="line">               myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">                    <span class="attr">xAxis</span>: [</span><br><span class="line">                         &#123;</span><br><span class="line">                              <span class="attr">data</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">dateList</span>,</span><br><span class="line">                         &#125;</span><br><span class="line">                    ],</span><br><span class="line">                    <span class="attr">series</span>: [</span><br><span class="line">                         &#123;</span><br><span class="line">                              <span class="attr">name</span>: <span class="string">&#x27;日销售额&#x27;</span>,</span><br><span class="line">                              <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">                              <span class="attr">data</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">moneyList</span></span><br><span class="line">                         &#125;,</span><br><span class="line">                         &#123;</span><br><span class="line">                              <span class="attr">name</span>: <span class="string">&#x27;单机营业额&#x27;</span>,</span><br><span class="line">                              <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">                              <span class="attr">barWidth</span>: <span class="string">&#x27;8&#x27;</span>,</span><br><span class="line">                              <span class="attr">yAxisIndex</span>: <span class="number">1</span>,</span><br><span class="line">                              <span class="attr">data</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">avgList</span></span><br><span class="line">                         &#125;</span><br><span class="line">                    ]</span><br><span class="line">               &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="设置x周触发提示"><a href="#设置x周触发提示" class="headerlink" title="设置x周触发提示"></a>设置x周触发提示</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tooltip</span>:&#123;</span><br><span class="line">          <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">      &#125;,</span><br></pre></td></tr></table></figure>

<h1 id="图位置设置居中"><a href="#图位置设置居中" class="headerlink" title="图位置设置居中"></a>图位置设置居中</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">grid</span>: &#123;</span><br><span class="line">		<span class="attr">top</span>: <span class="string">&#x27;20%&#x27;</span>,</span><br><span class="line">		<span class="attr">left</span>: <span class="string">&#x27;2%&#x27;</span>,</span><br><span class="line">		<span class="attr">right</span>: <span class="string">&#x27;2%&#x27;</span>,</span><br><span class="line">		<span class="attr">bottom</span>: <span class="string">&#x27;5%&#x27;</span>,</span><br><span class="line">		<span class="attr">containLabel</span>: <span class="literal">true</span></span><br><span class="line">       &#125;,</span><br></pre></td></tr></table></figure>
<h1 id="图例设置右对齐"><a href="#图例设置右对齐" class="headerlink" title="图例设置右对齐"></a>图例设置右对齐</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">legend.left</span><br><span class="line">legend: &#123;</span><br><span class="line">        left:&#x27;left&#x27;,</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2020/06/08/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2020/06/08/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">正则表达式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-08 00:00:00" itemprop="dateCreated datePublished" datetime="2020-06-08T00:00:00+08:00">2020-06-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>使用正则表达式处理规则复杂的字符串查找、替换需求,按照某种规则去匹配符合条件的字符串;<br><a href="https://lincmin.github.io/regexper-static/">Regexper</a></p>
<h1 id="RegExp对象"><a href="#RegExp对象" class="headerlink" title="RegExp对象"></a>RegExp对象</h1><p>javascript 通过内置对象RegExp支持正则表达式<br>有两种方法实例化RegExp对象</p>
<h2 id="字面量"><a href="#字面量" class="headerlink" title="字面量"></a>字面量</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\bis\b/g</span>;</span><br><span class="line"><span class="string">&#x27;he is a boy. this is a dog. where is she?&#x27;</span>.<span class="title function_">replace</span>(reg,<span class="string">&#x27; IS&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><code>\b</code> 表示字符边界;<br><code>g</code> 边是全局搜索匹配;</p>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;\\bis\\b&#x27;</span>,<span class="string">&#x27;g&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h1><p>g:global 全文搜索，如果不添加，搜索到第一个匹配停止;<br>i:ignore case 忽略大小写，默认大小写敏感;<br>m:multiple lines多行搜索;</p>
<h1 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h1><p>正则表达式由两种基本字符类型组成;<br>原义文本字符，如’abc’;<br>元字符，有特殊含义的非字母字符。如<code>\b</code>表示字符边界</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* + ? $ ^ . | \ () &#123;&#125; []</span><br></pre></td></tr></table></figure>
<h1 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h1><p>使用元字符<code>[]</code>构建一个简单的类;<br>所谓类是指符合某些特性的对象，一个泛指，而不是特指某个字符;<br>表达式<code>[abc]</code>把字符a 或b 或c归为一类，表达式可以匹配这类的字符;</p>
<h1 id="字符类取反"><a href="#字符类取反" class="headerlink" title="字符类取反"></a>字符类取反</h1><p>使用元字符<code>^</code>创建反向类/负向类;<br>反向类就是不属于某类的内容;<br>表达式<code>[^abc]</code>表示不是字符a或b或c的内容</p>
<h1 id="范围类"><a href="#范围类" class="headerlink" title="范围类"></a>范围类</h1><p>可以使用<code>[a-z</code>]来连接两个字符表示从a到z的任意字符，这是个闭区间，包含a和z本身;<br>在<code>[]</code>组成的类内部可以连写<code>[a-zA-Z]</code>,表示包含大小写字母;</p>
<h1 id="JS预定义类及边界"><a href="#JS预定义类及边界" class="headerlink" title="JS预定义类及边界"></a>JS预定义类及边界</h1><h2 id="预定义类"><a href="#预定义类" class="headerlink" title="预定义类"></a>预定义类</h2><table>
<thead>
<tr>
<th>字符</th>
<th>等价类</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>.</code></td>
<td><code>[^\r\n]</code></td>
<td>除了回车符和换行符之外的所有字符</td>
</tr>
<tr>
<td><code>\d</code></td>
<td><code>[0-9]</code></td>
<td>数字字符</td>
</tr>
<tr>
<td><code>\D</code></td>
<td><code>[^0-9]</code></td>
<td>非数字字符</td>
</tr>
<tr>
<td><code>\s</code></td>
<td><code>[\t\n\x0B\f\r]</code></td>
<td>空白符</td>
</tr>
<tr>
<td><code>\S</code></td>
<td><code>[^\t\n\x0B\f\r]</code></td>
<td>非空白符</td>
</tr>
<tr>
<td><code>\w</code></td>
<td><code>[a-zA-Z_0-9]</code></td>
<td>单词字符(字母,数字下划线)</td>
</tr>
<tr>
<td><code>\W</code></td>
<td><code>[^a-zA-Z_0-9]</code></td>
<td>非单词字符</td>
</tr>
</tbody></table>
<h2 id="边界"><a href="#边界" class="headerlink" title="边界"></a>边界</h2><p>常用边界匹配字符<br>| 字符 | 含义       |<br>| —- | ———- |<br>| <code>^</code>  | 以xxx开始  |<br>| <code>$</code>  | 以xxx结束  |<br>| <code>\b</code> | 单词边界   |<br>| <code>\B</code> | 非单词边界 | </p>
<h1 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h1><table>
<thead>
<tr>
<th>字符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>?</code></td>
<td>出现零次或一次(最多出现一次)</td>
</tr>
<tr>
<td><code>+</code></td>
<td>出现一次或多次(至少出现一次)</td>
</tr>
<tr>
<td><code>*</code></td>
<td>出现零次或多次(任意次)</td>
</tr>
<tr>
<td><code>&#123;n&#125;</code></td>
<td>出现n次</td>
</tr>
<tr>
<td><code>&#123;n,m&#125;</code></td>
<td>出现n到m次</td>
</tr>
<tr>
<td><code>&#123;n,&#125;</code></td>
<td>至少出现n次</td>
</tr>
</tbody></table>
<h1 id="JS正则贪婪模式与非贪婪模式"><a href="#JS正则贪婪模式与非贪婪模式" class="headerlink" title="JS正则贪婪模式与非贪婪模式"></a>JS正则贪婪模式与非贪婪模式</h1><p>贪婪模式：尽可能多的匹配;<br>非贪婪模式：让正则表达式尽可能少的匹配，一旦成功匹配不在继续尝试，在量词后面加上？即可;</p>
<h1 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h1><p>使用<code>( )</code>可以达到分组的功能，使量词作用于分组;<br>使用<code>|</code>可以达到或的效果;<br><code>$</code>符号表示分组内容;</p>
<h1 id="常用正则"><a href="#常用正则" class="headerlink" title="常用正则"></a>常用正则</h1><h2 id="校验手机号"><a href="#校验手机号" class="headerlink" title="校验手机号"></a>校验手机号</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> phone = <span class="number">18999999999</span>;</span><br><span class="line"><span class="keyword">let</span> myreg = <span class="regexp">/^1(3|4|5|7|8)\d&#123;9&#125;$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!(myreg.<span class="title function_">test</span>(phone))) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;手机号有误&#x27;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;手机号正确&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="验证邮箱地址"><a href="#验证邮箱地址" class="headerlink" title="验证邮箱地址"></a>验证邮箱地址</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myreg = <span class="regexp">/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]&#123;2,14&#125;/</span>;</span><br></pre></td></tr></table></figure>
<h2 id="非负数"><a href="#非负数" class="headerlink" title="非负数"></a>非负数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value = e.<span class="property">target</span>.<span class="property">value</span>;</span><br><span class="line"><span class="keyword">let</span> reg=<span class="regexp">/^\d+(\.&#123;0,1&#125;\d+)&#123;0,1&#125;$/</span>;    </span><br><span class="line"><span class="keyword">if</span>(!reg.<span class="title function_">test</span>(value))&#123;  </span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">receive_amount</span>:<span class="string">&#x27;&#x27;</span>,<span class="attr">showToptips</span>: <span class="literal">true</span>, <span class="attr">toptipsText</span>: <span class="string">&quot;请输入非负数&quot;</span> &#125;);</span><br><span class="line">	<span class="variable language_">this</span>.<span class="title function_">closeToptips</span>(<span class="number">2000</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2020/05/06/Redux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2020/05/06/Redux/" class="post-title-link" itemprop="url">Redux</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-06 00:00:00" itemprop="dateCreated datePublished" datetime="2020-05-06T00:00:00+08:00">2020-05-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/React/" itemprop="url" rel="index"><span itemprop="name">React</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="是什么"><a href="#是什么" class="headerlink" title="是什么"></a>是什么</h1><p>Redux是一个JavaScript应用程序的状态管理器，可以提供可预测的状态管理。</p>
<h1 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h1><p>在有大量组件的较大型应用程序中，状态管理是个问题。<br>使用Redux可以获得的一些好处包括日志记录、热加载、时间旅行、同构应用程序、录制和重放操作，而且都不需要开发人员做得太多。</p>
<h1 id="redux-原则"><a href="#redux-原则" class="headerlink" title="redux 原则"></a>redux 原则</h1><p>只有单一数据源：整个应用程序的状态都是以对象树的形式存储在唯一的store中。</p>
<p>状态是只读的：修改状态的唯一方式是发送一个action，action是一个描述发生了什么事的对象。<br>为指定状态树如何根据动作（action）来做改变，得编写纯归纳函数（reducer）。</p>
<h1 id="用银行取钱类比解释Redux"><a href="#用银行取钱类比解释Redux" class="headerlink" title="用银行取钱类比解释Redux"></a>用银行取钱类比解释Redux</h1><p>熟悉的事件:去银行取钱。<br>一个意图/动作：WITHDRAW_MONEY（取钱）<br>银行金库对银行来说，就是Store对Redux。<br>应用程序的state（状态）就像我们花的钱。<br>store保证state完好无损，就像金库保证钱完好无损。<br>银行柜员对银行，相当于reducer对Redux。</p>
<h1 id="主要关键角色"><a href="#主要关键角色" class="headerlink" title="主要关键角色"></a>主要关键角色</h1><p>store（仓库）<br>reducer（归纳函数）<br>action（动作）</p>
<h1 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h1><h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn install redux</span><br></pre></td></tr></table></figure>

<h2 id="创建一个Redux-Store"><a href="#创建一个Redux-Store" class="headerlink" title="创建一个Redux Store"></a>创建一个Redux Store</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createStore &#125; from &quot;redux&quot;; //导入redux库</span><br><span class="line">const store = createStore(reducer,initialState); </span><br></pre></td></tr></table></figure>

<p>createStore第一个参数是唯一强制性参数reducer，Store和reducer是好朋友，总是同步的。<br>第二个参数initialState，设置应用程序初始状态。</p>
<h2 id="获取-store-中的-state-对象"><a href="#获取-store-中的-state-对象" class="headerlink" title="获取 store 中的 state 对象"></a>获取 store 中的 state 对象</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.getState()</span><br></pre></td></tr></table></figure>

<h2 id="Reducer"><a href="#Reducer" class="headerlink" title="Reducer"></a>Reducer</h2><p>Redux Reducer只是一个函数。一个带有两个参数的函数。第一个是应用程序的state，另一个是action。<br>像银行柜员一样，reducer总是返回应用程序的新状态，以防万一有所改变。<br>通过使用switch语句，可以在Reducer内处理不同的action类型。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">export default function reducer(state,action) =&gt; &#123;       </span><br><span class="line">    switch (action.type) &#123;       </span><br><span class="line">        case &quot;withdraw_money&quot;:         </span><br><span class="line">            //do something          </span><br><span class="line">            break;      </span><br><span class="line">        case &quot;deposit-money&quot;:            </span><br><span class="line">            //do something         </span><br><span class="line">            break;      </span><br><span class="line">        default:            </span><br><span class="line">            return state;            </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>不应该在Reducer中修改接收的state，而是应该总是返回该state的一个新副本。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">return &#123;        </span><br><span class="line">    ...state,        </span><br><span class="line">    tech: action.tech  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Action"><a href="#Action" class="headerlink" title="Action"></a>Action</h2><p>action 是个对象，包含两个属性，分别是 type 和 payload，type 描述意图类型（取钱），payload 描述对 state 的改变值（取 4000 元）。<br>每个action都会流经reducer。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;  </span><br><span class="line">    type: &quot;withdraw_money&quot;,  </span><br><span class="line">    payload: &quot;$4000&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Action-Creator"><a href="#Action-Creator" class="headerlink" title="Action Creator"></a>Action Creator</h2><p>为了优化同一个type字段，不同 payload 要声明多个 action的重复代码。可以创建Action Creator。Action Creator只是帮助创建action的函数。仅此而已。它们是返回action对象的函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function setTechnology (text) &#123;  </span><br><span class="line">    return &#123;     </span><br><span class="line">        type: &quot;SET_TECHNOLOGY&quot;,     </span><br><span class="line">        text: text   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//es6 简写</span><br><span class="line">const setTechnology = text =&gt; (&#123; type: &quot;SET_TECHNOLOGY&quot;, text &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="dispatch"><a href="#dispatch" class="headerlink" title="dispatch"></a>dispatch</h2><p>更新Redux应用程序状态的唯一方法是分发一个action。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.dispatch(setTechnology(tech));</span><br></pre></td></tr></table></figure>

<h2 id="订阅Store更新"><a href="#订阅Store更新" class="headerlink" title="订阅Store更新"></a>订阅Store更新</h2><p>store.subscribe()。在大型项目可以使用react-redux之类的绑定。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lincmin.github.io/2018/09/16/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7%20frp%20%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="lincm">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lincm's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2018/09/16/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7%20frp%20%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/" class="post-title-link" itemprop="url">内网穿透工具 frp 使用小记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-09-16 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-16T00:00:00+08:00">2018-09-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/network/" itemprop="url" rel="index"><span itemprop="name">network</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><h2 id="frp-是什么"><a href="#frp-是什么" class="headerlink" title="frp 是什么"></a>frp 是什么</h2><blockquote>
<p>frp 是一个可用于内网穿透的高性能的反向代理应用，支持 tcp, udp, http, https 协议。</p>
</blockquote>
<h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><ul>
<li>通过 ssh 访问公司内网机器</li>
<li>通过自定义域名访问部署于内网的 web 服务</li>
<li>转发 DNS 查询请求</li>
<li>转发 Unix域套接字</li>
<li>对外提供简单的文件访问服务</li>
<li>安全地暴露内网服务</li>
<li>点对点内网穿透<h2 id="使用环境"><a href="#使用环境" class="headerlink" title="使用环境"></a>使用环境</h2></li>
<li>代理服务器系统：Ubuntu 16.04 64位</li>
<li>本地系统：OS X EI Capitan v10.11.3</li>
<li>frp 版本：v0.21.0<h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/blob/master/README_zh.md">github</a><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1>需要根据使用系统分别安装服务端和客户端软件。软件<a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/releases">下载地址</a>。<h2 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h2></li>
<li>下载<br>由于我使用的代理服务器操作系统是Ubuntu 16.04 64位 。所以使用以下命令下载服务端<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure></li>
<li>解压<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf frp_0.21.0_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure></li>
<li>配置<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd  frp_0.21.0_linux_amd64</span><br><span class="line">vi ./frps.ini</span><br><span class="line"></span><br><span class="line">[common]</span><br><span class="line">bind_port = 7001</span><br><span class="line">vhost_http_port =8181 </span><br></pre></td></tr></table></figure></li>
<li>启动后台常驻服务<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> ./frps -c ./frps.ini &amp;</span><br></pre></td></tr></table></figure></li>
<li>如果服务端使用阿里云，需要添加对应端口7001和8181的安全组规则</li>
</ul>
<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><ul>
<li>下载<br>直接点击 <a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/releases">releases</a>下载对应系统的客户端。由于我本地的开发环境使用的是 Mac 系统，所以我下载的是 frp_0.21.0_darwin_amd64.tar.gz。</li>
<li>解压后进入文件夹，配置相关参数<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vim frpc.ini</span><br><span class="line"></span><br><span class="line">[common]</span><br><span class="line">server_addr =  xx.xx.xxx.xx //代理服务器 ip 地址</span><br><span class="line">server_port = 7001 //对应服务端配置的 bind_port 端口号</span><br><span class="line"></span><br><span class="line">[web]</span><br><span class="line">type = http</span><br><span class="line">local_port = 3000 //访问本地应用的端口</span><br><span class="line">custom_domains = xx.xxxx.com //访问本地应用的域名</span><br></pre></td></tr></table></figure></li>
<li>启动本地客户端<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./frpc -c ./frpc.ini</span><br></pre></td></tr></table></figure></li>
<li>域名解析<br>custom_domains 配置的域名需要在域名解析工具中添加A记录类型。</li>
<li>访问<br>在浏览器地址栏中输入 <code>http://xx.xxxx.com:8181</code> 即可访问本地3000端口的程序。<h1 id="使用体会"><a href="#使用体会" class="headerlink" title="使用体会"></a>使用体会</h1>因为要开发企业微信应用，为了方便在本地环境做调试，就需要一款能够实现内网穿透的工具做辅助。用到的主要功能是通过自定义域名访问部署于内网的 web 服务。之前使用过有类似功能的ngrok，可能是代理服务器在香港，经常遇到连接失败的问题。所以又尝试使用了这款 frp 。经过一段时间的使用，相比 ngrok ,frp 的安装配置简单，连接稳定不掉线，提高了开发调试效率，是一款不错的代理工具。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/4/">4</a><a class="extend next" rel="next" href="/blog/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">lincm</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">36</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lincm</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  















  

  

</body>
</html>
